import { Herstellungskosten, SackwareKosten, LieferPreisTabelle, PLZZuZone } from '../types';

export const HERSTELLUNGSKOSTEN: Herstellungskosten = {
  fixkosten_pro_tonne: 38.31,
  veraenderliche_kosten_pro_tonne: 33.39,
  gesamt_pro_tonne: 71.71,
};

export const SACKWARE_KOSTEN: SackwareKosten = {
  ziegelmehl: 71.71,
  aufschlag_zm: 14.34, // 20% Aufschlag ZM
  absacken: 5.00, // absacken (2Std Lohn + Masch. Je 3t)
  sacke: 20.22, // Säcke (0,65*25*1,07)
  schrumpfsack: 4.67,
  werkspreis_ohne_palette: 115.94,
  aufschlag_10_prozent: 11.59, // Für Verkaufspreis
  cvk_ab_werk: 127.53,
};

export const AUFSCHLAEGE = {
  endkunde: 0.25, // 25% W+G
  grosskunde: 0.12, // 12% W+G
};

export const LIEFER_PREIS_TABELLE: LieferPreisTabelle = {
  1: {
    1000: {
      1: 71.44, 2: 94.30, 3: 109.93, 4: 118.07, 5: 127.26,
      6: 133.85, 7: 147.36, 8: 153.54, 9: 158.83, 10: 172.84,
      11: 177.87, 12: 184.54,
    },
  },
  2: {
    2000: {
      1: 110.25, 2: 150.93, 3: 179.42, 4: 195.28, 5: 211.15,
      6: 225.79, 7: 251.83, 8: 264.04, 9: 274.21, 10: 299.02,
      11: 309.20, 12: 317.74,
    },
  },
  3: {
    3000: {
      1: 124.09, 2: 170.06, 3: 203.83, 4: 222.54, 5: 241.26,
      6: 259.15, 7: 290.49, 8: 304.72, 9: 317.33, 10: 345.81,
      11: 358.02, 12: 368.96,
    },
  },
  4: {
    4000: {
      1: 127.34, 2: 175.97, 3: 212.77, 4: 232.71, 5: 251.63,
      6: 270.96, 7: 303.91, 8: 318.96, 9: 331.98, 10: 361.68,
      11: 374.70, 12: 382.84,
    },
  },
  5: {
    5000: {
      1: 143.21, 2: 200.57, 3: 237.59, 4: 257.53, 5: 277.87,
      6: 296.18, 7: 328.72, 8: 344.18, 9: 357.20, 10: 388.12,
      11: 401.14, 12: 412.13,
    },
  },
};

export const PLZ_ZU_ZONE: PLZZuZone = {
  '01': 6, '02': 8, '03': 8, '04': 6, '06': 6, '07': 5, '08': 5, '09': 6,
  '10': 10, '12': 8, '13': 8, '14': 8, '15': 9, '16': 9, '17': 11, '18': 12,
  '19': 9, '20': 9, '21': 9, '22': 9, '23': 10, '24': 10, '25': 10, '26': 9,
  '27': 8, '28': 8, '29': 7, '30': 6, '31': 6, '32': 6, '33': 6, '34': 4,
  '35': 4, '36': 3, '37': 5, '38': 6, '39': 7, '40': 6, '41': 6, '42': 6,
  '44': 6, '45': 6, '46': 6, '47': 6, '48': 7, '49': 7, '50': 6, '51': 5,
  '52': 6, '53': 5, '54': 6, '55': 4, '56': 5, '57': 4, '58': 5, '59': 6,
  '60': 3, '61': 3, '63': 2, '64': 3, '65': 3, '66': 5, '67': 4, '68': 3,
  '69': 3, '70': 3, '71': 3, '72': 4, '73': 3, '74': 3, '75': 3, '76': 4,
  '77': 5, '78': 5, '79': 5, '80': 5, '81': 5, '82': 5, '83': 6, '84': 5,
  '85': 5, '86': 5, '87': 5, '88': 5, '89': 4, '90': 3, '91': 3, '92': 4,
  '93': 4, '94': 6, '95': 4, '96': 3, '97': 1, '98': 3, '99': 4,
};

export const getZoneFromPLZ = (plzInput: string): number | null => {
  const plzPrefix = plzInput.substring(0, 2);
  return PLZ_ZU_ZONE[plzPrefix] || null;
};

/**
 * Raben-Tarif für Sendungen ab 6t bis 24t (Sackware per Spedition)
 * Format: PLZ-Prefix → { Gewicht in kg → Preis in EUR }
 * Gewichtsstufen: 6000, 7000, 8000, 9000, 10000, 11000, 12000, 13000, 14000, 15000, 16000, 17000, 18000, 19000, 20000, 21000, 22000, 23000, 24000
 */
export const RABEN_TARIF_AB_5T: Record<string, Record<number, number>> = {
  '01': { 6000: 405, 7000: 443, 8000: 474, 9000: 496, 10000: 542, 11000: 566, 12000: 583, 13000: 619, 14000: 646, 15000: 662, 16000: 700, 17000: 730, 18000: 744, 19000: 769, 20000: 795, 21000: 810, 22000: 839, 23000: 861, 24000: 875 },
  '02': { 6000: 397, 7000: 436, 8000: 467, 9000: 489, 10000: 532, 11000: 556, 12000: 573, 13000: 609, 14000: 634, 15000: 649, 16000: 687, 17000: 716, 18000: 730, 19000: 755, 20000: 779, 21000: 794, 22000: 823, 23000: 844, 24000: 857 },
  '03': { 6000: 397, 7000: 436, 8000: 467, 9000: 489, 10000: 532, 11000: 556, 12000: 573, 13000: 609, 14000: 634, 15000: 649, 16000: 687, 17000: 716, 18000: 730, 19000: 755, 20000: 779, 21000: 794, 22000: 823, 23000: 844, 24000: 857 },
  '04': { 6000: 374, 7000: 408, 8000: 434, 9000: 453, 10000: 494, 11000: 515, 12000: 530, 13000: 562, 14000: 585, 15000: 599, 16000: 633, 17000: 659, 18000: 672, 19000: 694, 20000: 716, 21000: 730, 22000: 755, 23000: 775, 24000: 787 },
  '06': { 6000: 333, 7000: 362, 8000: 381, 9000: 398, 10000: 433, 11000: 451, 12000: 463, 13000: 491, 14000: 511, 15000: 523, 16000: 553, 17000: 575, 18000: 586, 19000: 605, 20000: 625, 21000: 637, 22000: 659, 23000: 676, 24000: 687 },
  '07': { 6000: 301, 7000: 325, 8000: 340, 9000: 354, 10000: 384, 11000: 400, 12000: 410, 13000: 434, 14000: 452, 15000: 462, 16000: 488, 17000: 507, 18000: 517, 19000: 534, 20000: 551, 21000: 561, 22000: 581, 23000: 596, 24000: 605 },
  '08': { 6000: 301, 7000: 325, 8000: 340, 9000: 354, 10000: 384, 11000: 400, 12000: 410, 13000: 434, 14000: 452, 15000: 462, 16000: 488, 17000: 507, 18000: 517, 19000: 534, 20000: 551, 21000: 561, 22000: 581, 23000: 596, 24000: 605 },
  '09': { 6000: 333, 7000: 362, 8000: 381, 9000: 398, 10000: 433, 11000: 451, 12000: 463, 13000: 491, 14000: 511, 15000: 523, 16000: 553, 17000: 575, 18000: 586, 19000: 605, 20000: 625, 21000: 637, 22000: 659, 23000: 676, 24000: 687 },
  '10': { 6000: 456, 7000: 502, 8000: 538, 9000: 566, 10000: 618, 11000: 649, 12000: 669, 13000: 711, 14000: 743, 15000: 762, 16000: 806, 17000: 841, 18000: 858, 19000: 888, 20000: 918, 21000: 936, 22000: 970, 23000: 996, 24000: 1012 },
  '12': { 6000: 456, 7000: 502, 8000: 538, 9000: 566, 10000: 618, 11000: 649, 12000: 669, 13000: 711, 14000: 743, 15000: 762, 16000: 806, 17000: 841, 18000: 858, 19000: 888, 20000: 918, 21000: 936, 22000: 970, 23000: 996, 24000: 1012 },
  '13': { 6000: 456, 7000: 502, 8000: 538, 9000: 566, 10000: 618, 11000: 649, 12000: 669, 13000: 711, 14000: 743, 15000: 762, 16000: 806, 17000: 841, 18000: 858, 19000: 888, 20000: 918, 21000: 936, 22000: 970, 23000: 996, 24000: 1012 },
  '14': { 6000: 456, 7000: 502, 8000: 538, 9000: 566, 10000: 618, 11000: 649, 12000: 669, 13000: 711, 14000: 743, 15000: 762, 16000: 806, 17000: 841, 18000: 858, 19000: 888, 20000: 918, 21000: 936, 22000: 970, 23000: 996, 24000: 1012 },
  '15': { 6000: 437, 7000: 482, 8000: 517, 9000: 543, 10000: 594, 11000: 622, 12000: 641, 13000: 681, 14000: 711, 15000: 729, 16000: 771, 17000: 804, 18000: 820, 19000: 848, 20000: 876, 21000: 893, 22000: 925, 23000: 950, 24000: 965 },
  '16': { 6000: 437, 7000: 482, 8000: 517, 9000: 543, 10000: 594, 11000: 622, 12000: 641, 13000: 681, 14000: 711, 15000: 729, 16000: 771, 17000: 804, 18000: 820, 19000: 848, 20000: 876, 21000: 893, 22000: 925, 23000: 950, 24000: 965 },
  '17': { 6000: 492, 7000: 542, 8000: 582, 9000: 613, 10000: 669, 11000: 703, 12000: 724, 13000: 769, 14000: 803, 15000: 824, 16000: 872, 17000: 909, 18000: 928, 19000: 960, 20000: 992, 21000: 1011, 22000: 1048, 23000: 1076, 24000: 1094 },
  '18': { 6000: 512, 7000: 566, 8000: 609, 9000: 640, 10000: 700, 11000: 735, 12000: 757, 13000: 805, 14000: 840, 15000: 862, 16000: 912, 17000: 951, 18000: 970, 19000: 1004, 20000: 1038, 21000: 1058, 22000: 1096, 23000: 1126, 24000: 1144 },
  '19': { 6000: 437, 7000: 482, 8000: 517, 9000: 543, 10000: 594, 11000: 622, 12000: 641, 13000: 681, 14000: 711, 15000: 729, 16000: 771, 17000: 804, 18000: 820, 19000: 848, 20000: 876, 21000: 893, 22000: 925, 23000: 950, 24000: 965 },
  '20': { 6000: 419, 7000: 461, 8000: 494, 9000: 519, 10000: 567, 11000: 593, 12000: 611, 13000: 649, 14000: 677, 15000: 694, 16000: 734, 17000: 765, 18000: 780, 19000: 806, 20000: 833, 21000: 849, 22000: 879, 23000: 902, 24000: 917 },
  '21': { 6000: 419, 7000: 461, 8000: 494, 9000: 519, 10000: 567, 11000: 593, 12000: 611, 13000: 649, 14000: 677, 15000: 694, 16000: 734, 17000: 765, 18000: 780, 19000: 806, 20000: 833, 21000: 849, 22000: 879, 23000: 902, 24000: 917 },
  '22': { 6000: 419, 7000: 461, 8000: 494, 9000: 519, 10000: 567, 11000: 593, 12000: 611, 13000: 649, 14000: 677, 15000: 694, 16000: 734, 17000: 765, 18000: 780, 19000: 806, 20000: 833, 21000: 849, 22000: 879, 23000: 902, 24000: 917 },
  '23': { 6000: 456, 7000: 502, 8000: 538, 9000: 566, 10000: 618, 11000: 649, 12000: 669, 13000: 711, 14000: 743, 15000: 762, 16000: 806, 17000: 841, 18000: 858, 19000: 888, 20000: 918, 21000: 936, 22000: 970, 23000: 996, 24000: 1012 },
  '24': { 6000: 456, 7000: 502, 8000: 538, 9000: 566, 10000: 618, 11000: 649, 12000: 669, 13000: 711, 14000: 743, 15000: 762, 16000: 806, 17000: 841, 18000: 858, 19000: 888, 20000: 918, 21000: 936, 22000: 970, 23000: 996, 24000: 1012 },
  '25': { 6000: 456, 7000: 502, 8000: 538, 9000: 566, 10000: 618, 11000: 649, 12000: 669, 13000: 711, 14000: 743, 15000: 762, 16000: 806, 17000: 841, 18000: 858, 19000: 888, 20000: 918, 21000: 936, 22000: 970, 23000: 996, 24000: 1012 },
  '26': { 6000: 419, 7000: 461, 8000: 494, 9000: 519, 10000: 567, 11000: 593, 12000: 611, 13000: 649, 14000: 677, 15000: 694, 16000: 734, 17000: 765, 18000: 780, 19000: 806, 20000: 833, 21000: 849, 22000: 879, 23000: 902, 24000: 917 },
  '27': { 6000: 397, 7000: 436, 8000: 467, 9000: 489, 10000: 532, 11000: 556, 12000: 573, 13000: 609, 14000: 634, 15000: 649, 16000: 687, 17000: 716, 18000: 730, 19000: 755, 20000: 779, 21000: 794, 22000: 823, 23000: 844, 24000: 857 },
  '28': { 6000: 397, 7000: 436, 8000: 467, 9000: 489, 10000: 532, 11000: 556, 12000: 573, 13000: 609, 14000: 634, 15000: 649, 16000: 687, 17000: 716, 18000: 730, 19000: 755, 20000: 779, 21000: 794, 22000: 823, 23000: 844, 24000: 857 },
  '29': { 6000: 364, 7000: 396, 8000: 421, 9000: 439, 10000: 478, 11000: 498, 12000: 512, 13000: 543, 14000: 565, 15000: 578, 16000: 611, 17000: 636, 18000: 648, 19000: 670, 20000: 691, 21000: 704, 22000: 728, 23000: 747, 24000: 759 },
  '30': { 6000: 345, 7000: 375, 8000: 398, 9000: 414, 10000: 451, 11000: 469, 12000: 482, 13000: 511, 14000: 532, 15000: 544, 16000: 575, 17000: 598, 18000: 610, 19000: 630, 20000: 650, 21000: 662, 22000: 685, 23000: 703, 24000: 714 },
  '31': { 6000: 345, 7000: 375, 8000: 398, 9000: 414, 10000: 451, 11000: 469, 12000: 482, 13000: 511, 14000: 532, 15000: 544, 16000: 575, 17000: 598, 18000: 610, 19000: 630, 20000: 650, 21000: 662, 22000: 685, 23000: 703, 24000: 714 },
  '32': { 6000: 345, 7000: 375, 8000: 398, 9000: 414, 10000: 451, 11000: 469, 12000: 482, 13000: 511, 14000: 532, 15000: 544, 16000: 575, 17000: 598, 18000: 610, 19000: 630, 20000: 650, 21000: 662, 22000: 685, 23000: 703, 24000: 714 },
  '33': { 6000: 345, 7000: 375, 8000: 398, 9000: 414, 10000: 451, 11000: 469, 12000: 482, 13000: 511, 14000: 532, 15000: 544, 16000: 575, 17000: 598, 18000: 610, 19000: 630, 20000: 650, 21000: 662, 22000: 685, 23000: 703, 24000: 714 },
  '34': { 6000: 289, 7000: 306, 8000: 316, 9000: 325, 10000: 344, 11000: 355, 12000: 363, 13000: 378, 14000: 390, 15000: 397, 16000: 413, 17000: 426, 18000: 432, 19000: 443, 20000: 454, 21000: 461, 22000: 474, 23000: 484, 24000: 491 },
  '35': { 6000: 289, 7000: 306, 8000: 316, 9000: 325, 10000: 344, 11000: 355, 12000: 363, 13000: 378, 14000: 390, 15000: 397, 16000: 413, 17000: 426, 18000: 432, 19000: 443, 20000: 454, 21000: 461, 22000: 474, 23000: 484, 24000: 491 },
  '36': { 6000: 274, 7000: 299, 8000: 312, 9000: 325, 10000: 358, 11000: 373, 12000: 383, 13000: 407, 14000: 425, 15000: 435, 16000: 461, 17000: 481, 18000: 490, 19000: 507, 20000: 525, 21000: 536, 22000: 555, 23000: 570, 24000: 580 },
  '37': { 6000: 301, 7000: 325, 8000: 340, 9000: 354, 10000: 384, 11000: 400, 12000: 410, 13000: 434, 14000: 452, 15000: 462, 16000: 488, 17000: 507, 18000: 517, 19000: 534, 20000: 551, 21000: 561, 22000: 581, 23000: 596, 24000: 605 },
  '38': { 6000: 345, 7000: 375, 8000: 398, 9000: 414, 10000: 451, 11000: 469, 12000: 482, 13000: 511, 14000: 532, 15000: 544, 16000: 575, 17000: 598, 18000: 610, 19000: 630, 20000: 650, 21000: 662, 22000: 685, 23000: 703, 24000: 714 },
  '39': { 6000: 364, 7000: 396, 8000: 421, 9000: 439, 10000: 478, 11000: 498, 12000: 512, 13000: 543, 14000: 565, 15000: 578, 16000: 611, 17000: 636, 18000: 648, 19000: 670, 20000: 691, 21000: 704, 22000: 728, 23000: 747, 24000: 759 },
  '40': { 6000: 333, 7000: 362, 8000: 381, 9000: 398, 10000: 433, 11000: 451, 12000: 463, 13000: 491, 14000: 511, 15000: 523, 16000: 553, 17000: 575, 18000: 586, 19000: 605, 20000: 625, 21000: 637, 22000: 659, 23000: 676, 24000: 687 },
  '41': { 6000: 333, 7000: 362, 8000: 381, 9000: 398, 10000: 433, 11000: 451, 12000: 463, 13000: 491, 14000: 511, 15000: 523, 16000: 553, 17000: 575, 18000: 586, 19000: 605, 20000: 625, 21000: 637, 22000: 659, 23000: 676, 24000: 687 },
  '42': { 6000: 333, 7000: 362, 8000: 381, 9000: 398, 10000: 433, 11000: 451, 12000: 463, 13000: 491, 14000: 511, 15000: 523, 16000: 553, 17000: 575, 18000: 586, 19000: 605, 20000: 625, 21000: 637, 22000: 659, 23000: 676, 24000: 687 },
  '44': { 6000: 333, 7000: 362, 8000: 381, 9000: 398, 10000: 433, 11000: 451, 12000: 463, 13000: 491, 14000: 511, 15000: 523, 16000: 553, 17000: 575, 18000: 586, 19000: 605, 20000: 625, 21000: 637, 22000: 659, 23000: 676, 24000: 687 },
  '45': { 6000: 333, 7000: 362, 8000: 381, 9000: 398, 10000: 433, 11000: 451, 12000: 463, 13000: 491, 14000: 511, 15000: 523, 16000: 553, 17000: 575, 18000: 586, 19000: 605, 20000: 625, 21000: 637, 22000: 659, 23000: 676, 24000: 687 },
  '46': { 6000: 333, 7000: 362, 8000: 381, 9000: 398, 10000: 433, 11000: 451, 12000: 463, 13000: 491, 14000: 511, 15000: 523, 16000: 553, 17000: 575, 18000: 586, 19000: 605, 20000: 625, 21000: 637, 22000: 659, 23000: 676, 24000: 687 },
  '47': { 6000: 333, 7000: 362, 8000: 381, 9000: 398, 10000: 433, 11000: 451, 12000: 463, 13000: 491, 14000: 511, 15000: 523, 16000: 553, 17000: 575, 18000: 586, 19000: 605, 20000: 625, 21000: 637, 22000: 659, 23000: 676, 24000: 687 },
  '48': { 6000: 364, 7000: 396, 8000: 421, 9000: 439, 10000: 478, 11000: 498, 12000: 512, 13000: 543, 14000: 565, 15000: 578, 16000: 611, 17000: 636, 18000: 648, 19000: 670, 20000: 691, 21000: 704, 22000: 728, 23000: 747, 24000: 759 },
  '49': { 6000: 364, 7000: 396, 8000: 421, 9000: 439, 10000: 478, 11000: 498, 12000: 512, 13000: 543, 14000: 565, 15000: 578, 16000: 611, 17000: 636, 18000: 648, 19000: 670, 20000: 691, 21000: 704, 22000: 728, 23000: 747, 24000: 759 },
  '50': { 6000: 333, 7000: 362, 8000: 381, 9000: 398, 10000: 433, 11000: 451, 12000: 463, 13000: 491, 14000: 511, 15000: 523, 16000: 553, 17000: 575, 18000: 586, 19000: 605, 20000: 625, 21000: 637, 22000: 659, 23000: 676, 24000: 687 },
  '51': { 6000: 301, 7000: 325, 8000: 340, 9000: 354, 10000: 384, 11000: 400, 12000: 410, 13000: 434, 14000: 452, 15000: 462, 16000: 488, 17000: 507, 18000: 517, 19000: 534, 20000: 551, 21000: 561, 22000: 581, 23000: 596, 24000: 605 },
  '52': { 6000: 333, 7000: 362, 8000: 381, 9000: 398, 10000: 433, 11000: 451, 12000: 463, 13000: 491, 14000: 511, 15000: 523, 16000: 553, 17000: 575, 18000: 586, 19000: 605, 20000: 625, 21000: 637, 22000: 659, 23000: 676, 24000: 687 },
  '53': { 6000: 301, 7000: 325, 8000: 340, 9000: 354, 10000: 384, 11000: 400, 12000: 410, 13000: 434, 14000: 452, 15000: 462, 16000: 488, 17000: 507, 18000: 517, 19000: 534, 20000: 551, 21000: 561, 22000: 581, 23000: 596, 24000: 605 },
  '54': { 6000: 333, 7000: 362, 8000: 381, 9000: 398, 10000: 433, 11000: 451, 12000: 463, 13000: 491, 14000: 511, 15000: 523, 16000: 553, 17000: 575, 18000: 586, 19000: 605, 20000: 625, 21000: 637, 22000: 659, 23000: 676, 24000: 687 },
  '55': { 6000: 289, 7000: 306, 8000: 316, 9000: 325, 10000: 344, 11000: 355, 12000: 363, 13000: 378, 14000: 390, 15000: 397, 16000: 413, 17000: 426, 18000: 432, 19000: 443, 20000: 454, 21000: 461, 22000: 474, 23000: 484, 24000: 491 },
  '56': { 6000: 301, 7000: 325, 8000: 340, 9000: 354, 10000: 384, 11000: 400, 12000: 410, 13000: 434, 14000: 452, 15000: 462, 16000: 488, 17000: 507, 18000: 517, 19000: 534, 20000: 551, 21000: 561, 22000: 581, 23000: 596, 24000: 605 },
  '57': { 6000: 289, 7000: 306, 8000: 316, 9000: 325, 10000: 344, 11000: 355, 12000: 363, 13000: 378, 14000: 390, 15000: 397, 16000: 413, 17000: 426, 18000: 432, 19000: 443, 20000: 454, 21000: 461, 22000: 474, 23000: 484, 24000: 491 },
  '58': { 6000: 301, 7000: 325, 8000: 340, 9000: 354, 10000: 384, 11000: 400, 12000: 410, 13000: 434, 14000: 452, 15000: 462, 16000: 488, 17000: 507, 18000: 517, 19000: 534, 20000: 551, 21000: 561, 22000: 581, 23000: 596, 24000: 605 },
  '59': { 6000: 333, 7000: 362, 8000: 381, 9000: 398, 10000: 433, 11000: 451, 12000: 463, 13000: 491, 14000: 511, 15000: 523, 16000: 553, 17000: 575, 18000: 586, 19000: 605, 20000: 625, 21000: 637, 22000: 659, 23000: 676, 24000: 687 },
  '60': { 6000: 274, 7000: 299, 8000: 312, 9000: 325, 10000: 358, 11000: 373, 12000: 383, 13000: 407, 14000: 425, 15000: 435, 16000: 461, 17000: 481, 18000: 490, 19000: 507, 20000: 525, 21000: 536, 22000: 555, 23000: 570, 24000: 580 },
  '61': { 6000: 274, 7000: 299, 8000: 312, 9000: 325, 10000: 358, 11000: 373, 12000: 383, 13000: 407, 14000: 425, 15000: 435, 16000: 461, 17000: 481, 18000: 490, 19000: 507, 20000: 525, 21000: 536, 22000: 555, 23000: 570, 24000: 580 },
  '63': { 6000: 278, 7000: 304, 8000: 319, 9000: 333, 10000: 367, 11000: 383, 12000: 394, 13000: 418, 14000: 437, 15000: 447, 16000: 474, 17000: 494, 18000: 504, 19000: 521, 20000: 539, 21000: 550, 22000: 570, 23000: 585, 24000: 595 },
  '64': { 6000: 274, 7000: 299, 8000: 312, 9000: 325, 10000: 358, 11000: 373, 12000: 383, 13000: 407, 14000: 425, 15000: 435, 16000: 461, 17000: 481, 18000: 490, 19000: 507, 20000: 525, 21000: 536, 22000: 555, 23000: 570, 24000: 580 },
  '65': { 6000: 274, 7000: 299, 8000: 312, 9000: 325, 10000: 358, 11000: 373, 12000: 383, 13000: 407, 14000: 425, 15000: 435, 16000: 461, 17000: 481, 18000: 490, 19000: 507, 20000: 525, 21000: 536, 22000: 555, 23000: 570, 24000: 580 },
  '66': { 6000: 301, 7000: 325, 8000: 340, 9000: 354, 10000: 384, 11000: 400, 12000: 410, 13000: 434, 14000: 452, 15000: 462, 16000: 488, 17000: 507, 18000: 517, 19000: 534, 20000: 551, 21000: 561, 22000: 581, 23000: 596, 24000: 605 },
  '67': { 6000: 289, 7000: 306, 8000: 316, 9000: 325, 10000: 344, 11000: 355, 12000: 363, 13000: 378, 14000: 390, 15000: 397, 16000: 413, 17000: 426, 18000: 432, 19000: 443, 20000: 454, 21000: 461, 22000: 474, 23000: 484, 24000: 491 },
  '68': { 6000: 274, 7000: 299, 8000: 312, 9000: 325, 10000: 358, 11000: 373, 12000: 383, 13000: 407, 14000: 425, 15000: 435, 16000: 461, 17000: 481, 18000: 490, 19000: 507, 20000: 525, 21000: 536, 22000: 555, 23000: 570, 24000: 580 },
  '69': { 6000: 274, 7000: 299, 8000: 312, 9000: 325, 10000: 358, 11000: 373, 12000: 383, 13000: 407, 14000: 425, 15000: 435, 16000: 461, 17000: 481, 18000: 490, 19000: 507, 20000: 525, 21000: 536, 22000: 555, 23000: 570, 24000: 580 },
  '70': { 6000: 274, 7000: 299, 8000: 312, 9000: 325, 10000: 358, 11000: 373, 12000: 383, 13000: 407, 14000: 425, 15000: 435, 16000: 461, 17000: 481, 18000: 490, 19000: 507, 20000: 525, 21000: 536, 22000: 555, 23000: 570, 24000: 580 },
  '71': { 6000: 274, 7000: 299, 8000: 312, 9000: 325, 10000: 358, 11000: 373, 12000: 383, 13000: 407, 14000: 425, 15000: 435, 16000: 461, 17000: 481, 18000: 490, 19000: 507, 20000: 525, 21000: 536, 22000: 555, 23000: 570, 24000: 580 },
  '72': { 6000: 289, 7000: 306, 8000: 316, 9000: 325, 10000: 344, 11000: 355, 12000: 363, 13000: 378, 14000: 390, 15000: 397, 16000: 413, 17000: 426, 18000: 432, 19000: 443, 20000: 454, 21000: 461, 22000: 474, 23000: 484, 24000: 491 },
  '73': { 6000: 274, 7000: 299, 8000: 312, 9000: 325, 10000: 358, 11000: 373, 12000: 383, 13000: 407, 14000: 425, 15000: 435, 16000: 461, 17000: 481, 18000: 490, 19000: 507, 20000: 525, 21000: 536, 22000: 555, 23000: 570, 24000: 580 },
  '74': { 6000: 274, 7000: 299, 8000: 312, 9000: 325, 10000: 358, 11000: 373, 12000: 383, 13000: 407, 14000: 425, 15000: 435, 16000: 461, 17000: 481, 18000: 490, 19000: 507, 20000: 525, 21000: 536, 22000: 555, 23000: 570, 24000: 580 },
  '75': { 6000: 274, 7000: 299, 8000: 312, 9000: 325, 10000: 358, 11000: 373, 12000: 383, 13000: 407, 14000: 425, 15000: 435, 16000: 461, 17000: 481, 18000: 490, 19000: 507, 20000: 525, 21000: 536, 22000: 555, 23000: 570, 24000: 580 },
  '76': { 6000: 289, 7000: 306, 8000: 316, 9000: 325, 10000: 344, 11000: 355, 12000: 363, 13000: 378, 14000: 390, 15000: 397, 16000: 413, 17000: 426, 18000: 432, 19000: 443, 20000: 454, 21000: 461, 22000: 474, 23000: 484, 24000: 491 },
  '77': { 6000: 301, 7000: 325, 8000: 340, 9000: 354, 10000: 384, 11000: 400, 12000: 410, 13000: 434, 14000: 452, 15000: 462, 16000: 488, 17000: 507, 18000: 517, 19000: 534, 20000: 551, 21000: 561, 22000: 581, 23000: 596, 24000: 605 },
  '78': { 6000: 301, 7000: 325, 8000: 340, 9000: 354, 10000: 384, 11000: 400, 12000: 410, 13000: 434, 14000: 452, 15000: 462, 16000: 488, 17000: 507, 18000: 517, 19000: 534, 20000: 551, 21000: 561, 22000: 581, 23000: 596, 24000: 605 },
  '79': { 6000: 301, 7000: 325, 8000: 340, 9000: 354, 10000: 384, 11000: 400, 12000: 410, 13000: 434, 14000: 452, 15000: 462, 16000: 488, 17000: 507, 18000: 517, 19000: 534, 20000: 551, 21000: 561, 22000: 581, 23000: 596, 24000: 605 },
  '80': { 6000: 301, 7000: 325, 8000: 340, 9000: 354, 10000: 384, 11000: 400, 12000: 410, 13000: 434, 14000: 452, 15000: 462, 16000: 488, 17000: 507, 18000: 517, 19000: 534, 20000: 551, 21000: 561, 22000: 581, 23000: 596, 24000: 605 },
  '81': { 6000: 301, 7000: 325, 8000: 340, 9000: 354, 10000: 384, 11000: 400, 12000: 410, 13000: 434, 14000: 452, 15000: 462, 16000: 488, 17000: 507, 18000: 517, 19000: 534, 20000: 551, 21000: 561, 22000: 581, 23000: 596, 24000: 605 },
  '82': { 6000: 301, 7000: 325, 8000: 340, 9000: 354, 10000: 384, 11000: 400, 12000: 410, 13000: 434, 14000: 452, 15000: 462, 16000: 488, 17000: 507, 18000: 517, 19000: 534, 20000: 551, 21000: 561, 22000: 581, 23000: 596, 24000: 605 },
  '83': { 6000: 333, 7000: 362, 8000: 381, 9000: 398, 10000: 433, 11000: 451, 12000: 463, 13000: 491, 14000: 511, 15000: 523, 16000: 553, 17000: 575, 18000: 586, 19000: 605, 20000: 625, 21000: 637, 22000: 659, 23000: 676, 24000: 687 },
  '84': { 6000: 301, 7000: 325, 8000: 340, 9000: 354, 10000: 384, 11000: 400, 12000: 410, 13000: 434, 14000: 452, 15000: 462, 16000: 488, 17000: 507, 18000: 517, 19000: 534, 20000: 551, 21000: 561, 22000: 581, 23000: 596, 24000: 605 },
  '85': { 6000: 301, 7000: 325, 8000: 340, 9000: 354, 10000: 384, 11000: 400, 12000: 410, 13000: 434, 14000: 452, 15000: 462, 16000: 488, 17000: 507, 18000: 517, 19000: 534, 20000: 551, 21000: 561, 22000: 581, 23000: 596, 24000: 605 },
  '86': { 6000: 301, 7000: 325, 8000: 340, 9000: 354, 10000: 384, 11000: 400, 12000: 410, 13000: 434, 14000: 452, 15000: 462, 16000: 488, 17000: 507, 18000: 517, 19000: 534, 20000: 551, 21000: 561, 22000: 581, 23000: 596, 24000: 605 },
  '87': { 6000: 301, 7000: 325, 8000: 340, 9000: 354, 10000: 384, 11000: 400, 12000: 410, 13000: 434, 14000: 452, 15000: 462, 16000: 488, 17000: 507, 18000: 517, 19000: 534, 20000: 551, 21000: 561, 22000: 581, 23000: 596, 24000: 605 },
  '88': { 6000: 301, 7000: 325, 8000: 340, 9000: 354, 10000: 384, 11000: 400, 12000: 410, 13000: 434, 14000: 452, 15000: 462, 16000: 488, 17000: 507, 18000: 517, 19000: 534, 20000: 551, 21000: 561, 22000: 581, 23000: 596, 24000: 605 },
  '89': { 6000: 289, 7000: 306, 8000: 316, 9000: 325, 10000: 344, 11000: 355, 12000: 363, 13000: 378, 14000: 390, 15000: 397, 16000: 413, 17000: 426, 18000: 432, 19000: 443, 20000: 454, 21000: 461, 22000: 474, 23000: 484, 24000: 491 },
  '90': { 6000: 274, 7000: 299, 8000: 312, 9000: 325, 10000: 358, 11000: 373, 12000: 383, 13000: 407, 14000: 425, 15000: 435, 16000: 461, 17000: 481, 18000: 490, 19000: 507, 20000: 525, 21000: 536, 22000: 555, 23000: 570, 24000: 580 },
  '91': { 6000: 274, 7000: 299, 8000: 312, 9000: 325, 10000: 358, 11000: 373, 12000: 383, 13000: 407, 14000: 425, 15000: 435, 16000: 461, 17000: 481, 18000: 490, 19000: 507, 20000: 525, 21000: 536, 22000: 555, 23000: 570, 24000: 580 },
  '92': { 6000: 289, 7000: 306, 8000: 316, 9000: 325, 10000: 344, 11000: 355, 12000: 363, 13000: 378, 14000: 390, 15000: 397, 16000: 413, 17000: 426, 18000: 432, 19000: 443, 20000: 454, 21000: 461, 22000: 474, 23000: 484, 24000: 491 },
  '93': { 6000: 289, 7000: 306, 8000: 316, 9000: 325, 10000: 344, 11000: 355, 12000: 363, 13000: 378, 14000: 390, 15000: 397, 16000: 413, 17000: 426, 18000: 432, 19000: 443, 20000: 454, 21000: 461, 22000: 474, 23000: 484, 24000: 491 },
  '94': { 6000: 333, 7000: 362, 8000: 381, 9000: 398, 10000: 433, 11000: 451, 12000: 463, 13000: 491, 14000: 511, 15000: 523, 16000: 553, 17000: 575, 18000: 586, 19000: 605, 20000: 625, 21000: 637, 22000: 659, 23000: 676, 24000: 687 },
  '95': { 6000: 289, 7000: 306, 8000: 316, 9000: 325, 10000: 344, 11000: 355, 12000: 363, 13000: 378, 14000: 390, 15000: 397, 16000: 413, 17000: 426, 18000: 432, 19000: 443, 20000: 454, 21000: 461, 22000: 474, 23000: 484, 24000: 491 },
  '96': { 6000: 274, 7000: 299, 8000: 312, 9000: 325, 10000: 358, 11000: 373, 12000: 383, 13000: 407, 14000: 425, 15000: 435, 16000: 461, 17000: 481, 18000: 490, 19000: 507, 20000: 525, 21000: 536, 22000: 555, 23000: 570, 24000: 580 },
  '97': { 6000: 289, 7000: 306, 8000: 316, 9000: 325, 10000: 344, 11000: 355, 12000: 363, 13000: 378, 14000: 390, 15000: 397, 16000: 413, 17000: 426, 18000: 432, 19000: 443, 20000: 454, 21000: 461, 22000: 474, 23000: 484, 24000: 405 },
  '98': { 6000: 333, 7000: 362, 8000: 381, 9000: 398, 10000: 433, 11000: 451, 12000: 463, 13000: 491, 14000: 511, 15000: 523, 16000: 553, 17000: 575, 18000: 586, 19000: 605, 20000: 625, 21000: 637, 22000: 659, 23000: 676, 24000: 596 },
  '99': { 6000: 329, 7000: 358, 8000: 377, 9000: 394, 10000: 429, 11000: 447, 12000: 459, 13000: 487, 14000: 507, 15000: 519, 16000: 549, 17000: 571, 18000: 582, 19000: 601, 20000: 621, 21000: 633, 22000: 655, 23000: 672, 24000: 596 },
};

/**
 * Berechnet den Raben-Tarif für Sendungen ab 6t bis 24t
 * @param plz - Ziel-PLZ
 * @param gewichtKg - Gewicht in Kilogramm
 * @returns Preis in EUR oder null wenn nicht verfügbar
 */
export function berechneRabenTarif(plz: string, gewichtKg: number): number | null {
  const plzPrefix = plz.substring(0, 2);
  const tarife = RABEN_TARIF_AB_5T[plzPrefix];

  if (!tarife) {
    console.warn(`Kein Raben-Tarif für PLZ-Prefix ${plzPrefix} gefunden`);
    return null;
  }

  // Finde passende Gewichtsstufe (aufrunden auf nächste 1000kg)
  const gewichtsstufe = Math.ceil(gewichtKg / 1000) * 1000;

  // Minimum 6000kg, Maximum 24000kg
  if (gewichtsstufe < 6000) {
    // Unter 6t: Verwende bestehende LIEFER_PREIS_TABELLE
    return null;
  }

  const maxGewicht = Math.min(gewichtsstufe, 24000);
  const preis = tarife[maxGewicht];

  if (preis === undefined) {
    console.warn(`Kein Preis für Gewichtsstufe ${maxGewicht}kg in PLZ ${plzPrefix}`);
    return null;
  }

  return preis;
}

/**
 * Berechnet Speditionskosten für Sackware (kombiniert beide Tarife)
 * - Bis 5t: Zonen-basierter Tarif (LIEFER_PREIS_TABELLE)
 * - Ab 6t: PLZ-basierter Raben-Tarif (RABEN_TARIF_AB_5T)
 *
 * @param plz - Ziel-PLZ
 * @param gewichtKg - Gewicht in Kilogramm
 * @returns Preis in EUR oder null wenn nicht verfügbar
 */
export function berechneSpeditionskosten(plz: string, gewichtKg: number): number | null {
  // Ab 6t: Raben-Tarif nutzen
  if (gewichtKg >= 6000) {
    return berechneRabenTarif(plz, gewichtKg);
  }

  // Bis 5t: Zonen-basierter Tarif
  const zone = getZoneFromPLZ(plz);
  if (!zone) {
    console.warn(`Keine Zone für PLZ ${plz} gefunden`);
    return null;
  }

  // Finde passende Gewichtsstufe (1000, 2000, 3000, 4000, 5000)
  const gewichtsstufe = Math.min(Math.ceil(gewichtKg / 1000), 5) * 1000;
  const tarifTabelle = LIEFER_PREIS_TABELLE[gewichtsstufe / 1000];

  if (!tarifTabelle) {
    console.warn(`Keine Tarif-Tabelle für Gewichtsstufe ${gewichtsstufe}kg`);
    return null;
  }

  const innereTarife = tarifTabelle[gewichtsstufe];
  if (!innereTarife) {
    return null;
  }

  const preis = innereTarife[zone];
  if (preis === undefined) {
    console.warn(`Kein Preis für Zone ${zone} bei Gewicht ${gewichtsstufe}kg`);
    return null;
  }

  return preis;
}

