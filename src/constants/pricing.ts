import { Herstellungskosten, SackwareKosten, LieferPreisTabelle, PLZZuZone } from '../types';

export const HERSTELLUNGSKOSTEN: Herstellungskosten = {
  fixkosten_pro_tonne: 38.31,
  veraenderliche_kosten_pro_tonne: 33.39,
  gesamt_pro_tonne: 71.71,
};

export const SACKWARE_KOSTEN: SackwareKosten = {
  ziegelmehl: 71.71,
  aufschlag_zm: 14.34, // 20% Aufschlag ZM
  absacken: 5.00, // absacken (2Std Lohn + Masch. Je 3t)
  sacke: 20.22, // Säcke (0,65*25*1,07)
  schrumpfsack: 4.67,
  werkspreis_ohne_palette: 115.94,
  aufschlag_10_prozent: 11.59, // Für Verkaufspreis
  cvk_ab_werk: 127.53,
};

export const AUFSCHLAEGE = {
  endkunde: 0.25, // 25% W+G
  grosskunde: 0.12, // 12% W+G
};

export const LIEFER_PREIS_TABELLE: LieferPreisTabelle = {
  1: {
    1000: {
      1: 71.44, 2: 94.30, 3: 109.93, 4: 118.07, 5: 127.26,
      6: 133.85, 7: 147.36, 8: 153.54, 9: 158.83, 10: 172.84,
      11: 177.87, 12: 184.54,
    },
  },
  2: {
    2000: {
      1: 110.25, 2: 150.93, 3: 179.42, 4: 195.28, 5: 211.15,
      6: 225.79, 7: 251.83, 8: 264.04, 9: 274.21, 10: 299.02,
      11: 309.20, 12: 317.74,
    },
  },
  3: {
    3000: {
      1: 124.09, 2: 170.06, 3: 203.83, 4: 222.54, 5: 241.26,
      6: 259.15, 7: 290.49, 8: 304.72, 9: 317.33, 10: 345.81,
      11: 358.02, 12: 368.96,
    },
  },
  4: {
    4000: {
      1: 127.34, 2: 175.97, 3: 212.77, 4: 232.71, 5: 251.63,
      6: 270.96, 7: 303.91, 8: 318.96, 9: 331.98, 10: 361.68,
      11: 374.70, 12: 382.84,
    },
  },
  5: {
    5000: {
      1: 143.21, 2: 200.57, 3: 237.59, 4: 257.53, 5: 277.87,
      6: 296.18, 7: 328.72, 8: 344.18, 9: 357.20, 10: 388.12,
      11: 401.14, 12: 412.13,
    },
  },
};

export const PLZ_ZU_ZONE: PLZZuZone = {
  '01': 6, '02': 8, '03': 8, '04': 6, '06': 6, '07': 5, '08': 5, '09': 6,
  '10': 10, '12': 8, '13': 8, '14': 8, '15': 9, '16': 9, '17': 11, '18': 12,
  '19': 9, '20': 9, '21': 9, '22': 9, '23': 10, '24': 10, '25': 10, '26': 9,
  '27': 8, '28': 8, '29': 7, '30': 6, '31': 6, '32': 6, '33': 6, '34': 4,
  '35': 4, '36': 3, '37': 5, '38': 6, '39': 7, '40': 6, '41': 6, '42': 6,
  '44': 6, '45': 6, '46': 6, '47': 6, '48': 7, '49': 7, '50': 6, '51': 5,
  '52': 6, '53': 5, '54': 6, '55': 4, '56': 5, '57': 4, '58': 5, '59': 6,
  '60': 3, '61': 3, '63': 2, '64': 3, '65': 3, '66': 5, '67': 4, '68': 3,
  '69': 3, '70': 3, '71': 3, '72': 4, '73': 3, '74': 3, '75': 3, '76': 4,
  '77': 5, '78': 5, '79': 5, '80': 5, '81': 5, '82': 5, '83': 6, '84': 5,
  '85': 5, '86': 5, '87': 5, '88': 5, '89': 4, '90': 3, '91': 3, '92': 4,
  '93': 4, '94': 6, '95': 4, '96': 3, '97': 1, '98': 3, '99': 4,
};

export const getZoneFromPLZ = (plzInput: string): number | null => {
  const plzPrefix = plzInput.substring(0, 2);
  return PLZ_ZU_ZONE[plzPrefix] || null;
};

